<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GMP - HÃ©lice - Hangar MMA (Variado)</title>
    <style>
        :root {
            --primary: #1a3a5a;
            --secondary: #f8f9fa;
            --accent: #007bff;
            --success: #28a745;
            --danger: #dc3545;
            --text: #333;
            --warning: #ffc107;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: #f0f2f5;
            color: var(--text);
            margin: 0;
            padding: 10px;
            overflow-x: hidden;
        }

        .credits-pow {
            position: fixed;
            top: 5px;
            right: 10px;
            background: var(--primary);
            color: white;
            padding: 4px 10px;
            font-size: 0.7rem;
            font-weight: bold;
            border-radius: 4px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
            z-index: 2000;
            transform-origin: center;
            animation: pow-appearance 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            letter-spacing: 0.5px;
        }

        @keyframes pow-appearance {
            0% { transform: scale(0) rotate(-20deg); opacity: 0; }
            80% { transform: scale(1.2) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .header-sticky {
            position: sticky;
            top: 0;
            background: white;
            padding: 15px;
            border-bottom: 3px solid var(--primary);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--danger);
            background: #fff5f5;
            padding: 5px 15px;
            border-radius: 5px;
            border: 1px solid var(--danger);
        }

        .question-block {
            margin: 25px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fff;
            transition: all 0.3s;
        }

        .pending {
            border: 2px solid var(--danger) !important;
            background-color: #fff8f8 !important;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .options-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-label {
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }

        .option-label:hover { background-color: #f0f7ff; }
        input[type="radio"] { margin-right: 15px; transform: scale(1.2); }

        .correct-answer { background-color: #d4edda !important; border-color: #28a745 !important; color: #155724; font-weight: bold; }
        .wrong-answer { background-color: #f8d7da !important; border-color: #dc3545 !important; color: #721c24; }

        .btn {
            padding: 15px 30px;
            font-size: 1rem;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            text-transform: uppercase;
        }

        .btn-finish { background: var(--primary); color: white; margin-top: 20px; }
        .btn-restart { background: var(--success); color: white; display: none; margin-top: 20px; }

        #results {
            display: none;
            padding: 20px;
            text-align: center;
            border: 3px solid var(--primary);
            margin: 20px 0;
            border-radius: 12px;
            background-color: #ffffff;
        }

        .motivational-msg {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }

        .score-box { font-size: 2.2rem; margin: 10px 0; font-weight: 800; }
        
        @media (max-width: 600px) {
            .header-sticky { flex-direction: column; gap: 10px; }
            .container { padding: 10px; }
            .credits-pow { font-size: 0.6rem; padding: 2px 6px; }
        }
    </style>
</head>
<body>

<div class="credits-pow">BY EWERTON</div>

<div class="container">
    <div class="header-sticky">
        <div>
            <h2 style="margin:0; color: var(--primary);">GMP - HÃ©lice - Hangar MMA</h2>
            <small id="q-counter">QuestÃµes: 1 a 64</small>
        </div>
        <div id="timer" class="timer">64:00</div>
    </div>

    <div id="results">
        <span id="feedback-msg" class="motivational-msg"></span>
        <div class="score-box" id="final-score"></div>
        <div id="final-percent" style="font-size: 1.3rem; font-weight: bold; margin-bottom: 15px;"></div>
        <p style="color: #666; font-size: 1rem; font-weight: bold;">Confira abaixo o gabarito detalhado:</p>
        <button id="restart-btn" class="btn btn-restart" onclick="location.reload()">Reiniciar Simulado</button>
    </div>

    <div id="quiz-content"></div>

    <button id="finish-btn" class="btn btn-finish" onclick="finalizeQuiz()">Finalizar Simulado</button>
</div>

<script>
    // BANCO DE DADOS COM AS 64 QUESTÃ•ES E RESPOSTAS EMBARALHADAS
    const masterBank = [
    {q: "Uma parada do motor em decorrÃªncia de colisÃ£o de uma ou mais pÃ¡s de hÃ©lice com um objeto, de modo que o motor pare antes que a hÃ©lice complete uma volta, denomina-se:", a: ["retorno de chama", "calÃ§o hidrÃ¡ulico", "parada brusca", "corte de motor"], c: 2},
    {q: "A distÃ¢ncia que a hÃ©lice realmente percorre, denomina-se passo:", a: ["teÃ³rico", "efetivo", "de recuo", "geomÃ©trico"], c: 1},
    {q: "A energia calorifica para o controle do degelo da pÃ¡ da hÃ©lice Ã© realizada atravÃ©s de:", a: ["energia hidrÃ¡ulica", "ar quente, oriundo do compressor", "ar quente, oriundo do escapamento", "energia elÃ©trica"], c: 3},
    {q: "A finalidade de se aplicar o passo reverso durante o pouso Ã©:", a: ["reduzir a corrida na pista, durante o pouso", "proporcionar maior controle do aviÃ£o no solo", "reduzir o tempo gasto para o tÃ¡xi", "economizar combustÃ­vel"], c: 0},
    {q: "A finalidade de se reduzir a velocidade de rotaÃ§Ã£o da hÃ©lice, em relaÃ§Ã£o ao eixo de manivelas, Ã©:", a: ["economizar combustÃ­vel", "manter a eficiÃªncia da hÃ©lice", "reduzir a temperatura de trabalho do motor", "reduzir o esforÃ§o suportado pelas pÃ¡s da hÃ©lice"], c: 1},
    {q: "A finalidade do conjunto do cubo da hÃ©lice Ã©:", a: ["aumentar a RPM", "manter o passo mÃ¡ximo", "manter o passo mÃ­nimo", "prender as pÃ¡s no eixo de manivelas"], c: 3},
    {q: "A finalidade do governador da hÃ©lice de passo controlÃ¡vel Ã©:", a: ["regular o passo", "manter o Ã¢ngulo da pÃ¡ fixo", "reduzir a potÃªncia do motor", "aumentar a potÃªncia do motor"], c: 0},
    {q: "A finalidade do passo reversÃ­vel na hÃ©lice Ã©:", a: ["aumentar a corrida na decolagem", "aumentar o volume de ar para o motor", "diminuir a corrida dos aviÃµes durante a aterragem", "diminuir a velocidade da massa de ar no compressor"], c: 2},
    {q: "A finalidade do passo reverso da hÃ©lice Ã©:", a: ["reduzir o torque mÃ¡ximo do motor", "reduzir, ao mÃ¡ximo, a resistÃªncia ao avanÃ§o", "produzir uma traÃ§Ã£o negativa, usando a potÃªncia do motor", "produzir uma traÃ§Ã£o positiva, a fim de usar o freio o mÃ­nimo necessÃ¡rio"], c: 2},
    {q: "A finalidade do sistema de embandeiramento da hÃ©lice Ã©:", a: ["eliminar vibraÃ§Ãµes do motor", "eliminar vibraÃ§Ãµes da hÃ©lice", "compensar a perda de potÃªncia do motor", "reduzir, ao mÃ­nimo, a resistÃªncia ao avanÃ§o"], c: 3},
    {q: "A finalidade do sistema de sincronismo das hÃ©lices, dentre outras, Ã©:", a: ["permitir que elas operem em passo mÃ­nimo, em voo de cruzeiro", "reduzir a vibraÃ§Ã£o", "evitar o torque negativo", "economizar combustÃ­vel"], c: 1},
    {q: "A forÃ§a fÃ­sica que tende a expulsar as pÃ¡s do cubo quando a hÃ©lice estÃ¡ em movimento denomina-se:", a: ["recuo", "traÃ§Ã£o", "centrÃ­fuga", "aerodinÃ¢mica"], c: 2},
    {q: "A hÃ©lice Ã© fixada ao eixo do motor atravÃ©s do componente denominado:", a: ["pÃ¡", "cubo", "raiz", "cÃºpula"], c: 1},
    {q: "A hÃ©lice de velocidade constante, durante o voo tem:", a: ["passo fixo e RPM fixa", "passo variÃ¡vel e RPM fixa", "passo fixo e RPM variÃ¡vel", "passo variÃ¡vel e RPM variÃ¡vel"], c: 1},
    {q: "A hÃ©lice percorre uma distÃ¢ncia denominada passo efetivo quando:", a: ["comandada para o passo mÃ­nimo", "comandada para o passo mÃ¡ximo", "realiza uma volta completa, considerando o recuo", "realiza uma volta, sem o recuo"], c: 2},
    {q: "A hÃ©lice que ajusta o passo, sem atuaÃ§Ã£o do operador, para manter constante a RPM do motor, denomina-se hÃ©lice:", a: ["ajustÃ¡vel", "automÃ¡tica", "de passo constante", "de passo controlÃ¡vel"], c: 1},
    {q: "A mudanÃ§a do Ã¢ngulo da pÃ¡ da hÃ©lice de passo fixo Ã© realizada:", a: ["na construÃ§Ã£o da hÃ©lice", "quando o motor estiver girando em alta rotaÃ§Ã£o", "quando a hÃ©lice estiver girando em baixa rotaÃ§Ã£o", "no momento em que o motor estiver em funcionamento"], c: 0},
    {q: "A parte de um motor convencional onde as engrenagens de reduÃ§Ã£o da hÃ©lice estÃ£o localizadas denomina-se seÃ§Ã£o:", a: ["do nariz", "das engrenagens dos acessÃ³rios", "difusora", "de potÃªncia"], c: 0},
    {q: "ApÃ³s uma parada brusca do motor, ocasionada pelo impacto de uma pÃ¡ da hÃ©lice com o solo, Ã© provÃ¡vel que ocorra desalinhamento no(a):", a: ["magneto", "filtro de Ã³leo", "eixo de manivelas", "tubo de escapamento"], c: 2},
    {q: "Aumentando o Ã¢ngulo da pÃ¡ de uma hÃ©lice ocorrerÃ¡ o aumento do(a):", a: ["RPM", "passo", "rotaÃ§Ã£o", "potÃªncia"], c: 1},
    {q: "Ã‰ a parte grossa e circular prÃ³xima da base, a qual Ã© designada a dar resistÃªncia Ã  pÃ¡:", a: ["rotor", "flanco", "base", "raiz"], c: 3},
    {q: "Caso um dos motores de uma aeronave entre em pane, a hÃ©lice correspondente deve ser comandada para o passo:", a: ["bandeira", "reverso", "mÃ¡ximo", "mÃ­nimo"], c: 0},
    {q: "Com o alÃ­vio da pressÃ£o do Ã³leo, atravÃ©s do governador, os contrapesos e a mola levam as pÃ¡s da hÃ©lice para o passo:", a: ["mÃ¡ximo", "mÃ­nimo", "reverso", "bandeira"], c: 0},
    {q: "Dentre as alternativas abaixo, aquela que pode causar alteraÃ§Ã£o aerodinÃ¢mica da pÃ¡ da hÃ©lice, quando em voo, Ã© o(a):", a: ["gelo", "calor", "ar frio", "vento de cauda"], c: 0},
    {q: "Dentre os tipos de hÃ©lices abaixo, aquela que Ã© empregada, tambÃ©m, como freio aerodinÃ¢mico, denomina-se:", a: ["ajustÃ¡vel", "reversÃ­vel", "automÃ¡tica", "embandeirÃ¡vel"], c: 1},
    {q: "DistÃ¢ncia que uma hÃ©lice deveria avanÃ§ar em uma revoluÃ§Ã£o:", a: ["Ã© a distÃ¢ncia realmente percorrida por uma hÃ©lice", "distÃ¢ncia que reconhece o recuo da hÃ©lice no ar", "chamado de passo teÃ³rico ou geomÃ©trico", "todas estÃ£o corretas"], c: 2},
    {q: "Durante o giro do motor convencional de um aviÃ£o no solo se a pÃ¡ da hÃ©lice tocar num obstÃ¡culo ocasionando parada brusca, deve-se:", a: ["substituir o motor", "trocar todo o Ã³leo do motor", "remover o governador de hÃ©lice", "executar nova regulagem do governador de hÃ©lice"], c: 0},
    {q: "Em condiÃ§Ãµes normais de voo a hÃ©lice varia entre o passo:", a: ["mÃ­nimo e o passo mÃ¡ximo", "mÃ­nimo e o passo reverso", "mÃ¡ximo e o passo reverso", "mÃ¡ximo e o passo bandeira"], c: 0},
    {q: "Em uma hÃ©lice de velocidade constante, estando a hÃ©lice em movimento e ocorrendo formaÃ§Ã£o de gelo nas pÃ¡s, a distorÃ§Ã£o do aerofÃ³lio:", a: ["causarÃ¡ vibraÃ§Ã£o", "causarÃ¡ reduÃ§Ã£o de RPM", "mudarÃ¡ o passo para o reverso", "mudarÃ¡ o passo para o bandeira"], c: 0},
    {q: "Estando as pÃ¡s da hÃ©lice na mesma direÃ§Ã£o do vento relativo, a hÃ©lice estarÃ¡ em passo:", a: ["mÃ­nimo", "mÃ¡ximo", "reverso", "bandeira"], c: 0},
    {q: "Na decolagem o Ã¢ngulo de uma hÃ©lice:", a: ["mÃ­nimo", "mÃ¡ximo", "bandeira", "45Â°"], c: 0},
    {q: "Na decolagem, onde Ã© necessÃ¡ria uma alta rotaÃ§Ã£o, a hÃ©lice deverÃ¡ estar no passo:", a: ["mÃ­nimo", "mÃ¡ximo", "bandeira", "reverso"], c: 0},
    {q: "Na hÃ©lice de passo controlÃ¡vel, a pressÃ£o do Ã³leo necessÃ¡ria Ã  mudanÃ§a do passo, Ã© fornecida pelo(a):", a: ["vÃ¡lvula piloto", "bomba", "aranha", "contrapeso"], c: 1},
    {q: "No governador de uma hÃ©lice, a funÃ§Ã£o da vÃ¡lvula piloto Ã©:", a: ["regular a quantidade de Ã³leo", "controlar a pressÃ£o da hÃ©lice", "regular a velocidade dos contrapesos", "diminuir a tensÃ£o da mola de velocidade"], c: 0},
    {q: "O Ã¢ngulo formado entre a corda da pÃ¡ e o plano de rotaÃ§Ã£o da hÃ©lice denomina-se Ã¢ngulo de(a):", a: ["pÃ¡", "recuo", "ataque", "avanÃ§o"], c: 2},
    {q: "O conjunto de hÃ©lices pode ser montado em um eixo que pode ser uma extensÃ£o do eixo de manivelas do motor ou:", a: ["no eixo da caixa de acessÃ³rios", "no eixo do trem de engrenagens", "no eixo do comando de vÃ¡lvulas", "nda"], c: 1},
    {q: "O desbalanceamento estÃ¡tico ou dinÃ¢mico, numa hÃ©lice, pode ocasionar:", a: ["vibraÃ§Ã£o na aeronave", "aumento de RPM no motor", "vibraÃ§Ã£o nos trens de pouso principais", "reduÃ§Ã£o da rotaÃ§Ã£o do eixo de manivelas"], c: 0},
    {q: "O eixo da hÃ©lice Ã© conectado ao eixo de manivelas, atravÃ©s de:", a: ["mancais", "rolamentos", "hastes impulsoras", "engrenagens redutoras"], c: 3},
    {q: "O embandeiramento da hÃ©lice Ã© realizado pelo governador, atravÃ©s de:", a: ["comando elÃ©trico", "diminuiÃ§Ã£o do RPM", "alÃ­vio da pressÃ£o de ar", "alÃ­vio da pressÃ£o de Ã³leo"], c: 3},
    {q: "O embandeiramento de uma hÃ©lice ocorre por aÃ§Ã£o de:", a: ["mola e contrapesos", "mola e pressÃ£o de Ã³leo", "pressÃ£o de Ã³leo e pistÃ£o", "pressÃ£o de Ã³leo e contrapesos"], c: 1},
    {q: "O gelo, que se forma nas pÃ¡s da hÃ©lice, Ã© controlado atravÃ©s do sistema:", a: ["elÃ©trico", "pneumÃ¡tico", "de combustÃ­vel", "de lubrificaÃ§Ã£o"], c: 0},
    {q: "O passo efetivo da hÃ©lice Ã© a diferenÃ§a entre o passo:", a: ["mÃ¡ximo e mÃ­nimo", "teÃ³rico e o recuo", "bandeira e mÃ­nimo", "teÃ³rico e mÃ­nimo"], c: 1},
    {q: "O passo geomÃ©trico da hÃ©lice Ã© igual ao passo:", a: ["teÃ³rico, mais o avanÃ§o", "efetivo, mais o avanÃ§o", "teÃ³rico, mais o recuo", "efetivo, mais o recuo"], c: 2},
    {q: "O passo que reconhece o recuo da hÃ©lice denomina-se:", a: ["efetivo", "teÃ³rico", "constante", "geomÃ©trico"], c: 0},
    {q: "O passo teÃ³rico da hÃ©lice Ã© igual ao passo:", a: ["efetivo, mais o recuo", "efetivo, mais o avanÃ§o", "geomÃ©trico, menos o recuo", "geomÃ©trico, menos o avanÃ§o"], c: 0},
    {q: "O passo teÃ³rico da hÃ©lice, tambÃ©m Ã© denominado:", a: ["recuo", "avanÃ§o", "passo efetivo", "passo geomÃ©trico"], c: 3},
    {q: "O que Ã© passo geomÃ©trico de uma hÃ©lice?", a: ["Ã© a distÃ¢ncia realmente percorrida por uma hÃ©lice", "reconhece o recuo da hÃ©lice no ar", "tambÃ©m chamado de passo teÃ³rico Ã© a distÃ¢ncia que uma hÃ©lice deveria avanÃ§ar em uma revoluÃ§Ã£o", "todas estÃ£o corretas"], c: 2},
    {q: "O que Ã© recuo da hÃ©lice:", a: ["diminuiÃ§Ã£o da potÃªncia do motor", "diferenÃ§a entre passo geomÃ©trico e o efetivo", "mudanÃ§a de passo atravÃ©s de contra-pesos", "mudanÃ§a de Ã¢ngulo da pÃ¡ para o bandeira"], c: 1},
    {q: "O sistema de degelo da hÃ©lice funciona empregando nos elementos de aquecimento:", a: ["ar quente proveniente da seÃ§Ã£o do compressor", "energia elÃ©trica transformada em energia calorÃ­fica", "ar quente proveniente da seÃ§Ã£o de escapamento do motor", "Ã³leo quente do radiador transformado em energia calorÃ­fica"], c: 1},
    {q: "Os contrapesos das hÃ©lices de passo variÃ¡vel tÃªm a finalidade de:", a: ["diminuir a RPM", "aumentar a RPM", "aumentar o passo", "diminuir o passo"], c: 2},
    {q: "Quando a hÃ©lice dÃ¡ uma volta completa e ocorre um recuo a mesma realiza o passo:", a: ["efetivo", "teÃ³rico", "de torÃ§Ã£o", "geomÃ©trico"], c: 0},
    {q: "Quando a hÃ©lice dÃ¡ uma volta completa, ela deverÃ¡ avanÃ§ar teoricamente uma distÃ¢ncia chamada passo:", a: ["real", "efetivo", "de recuo", "geomÃ©trico"], c: 3},
    {q: "Quando a hÃ©lice estÃ¡ em movimento e hÃ¡ formaÃ§Ã£o de gelo nas pÃ¡s, a distorÃ§Ã£o do aerofÃ³lio poderÃ¡ causar na hÃ©lice:", a: ["vibraÃ§Ã£o", "aumento de RPM", "mudanÃ§a do passo para reverso", "mudanÃ§a do passo para o bandeira"], c: 0},
    {q: "Quanto Ã  hÃ©lice ajustÃ¡vel no solo, pode-se dizer que a mesma opera como uma hÃ©lice de passo:", a: ["fixo", "reverso", "automÃ¡tico", "controlÃ¡vel"], c: 0},
    {q: "Se a caixa de engrenagens reduz a velocidade do eixo na proporÃ§Ã£o de 6:1, qual serÃ¡ a rotaÃ§Ã£o do eixo de manivelas, sabendo-se que a velocidade da hÃ©lice Ã© de 3000 RPM:", a: ["500 RPM", "1800 RPM", "3000 RPM", "18000 RPM"], c: 0},
    {q: "Se a seÃ§Ã£o de engrenagens reduz a velocidade do eixo de manivelas na razÃ£o de 11:1, e a velocidade da hÃ©lice Ã© de 1200 RPM, a rotaÃ§Ã£o do eixo de manivelas serÃ¡ de:", a: ["11200 RPM", "12600 RPM", "13200 RPM", "14400 RPM"], c: 2},
    {q: "Se uma hÃ©lice gira a 2400 RPM e as engrenagens de reduÃ§Ã£o trabalham em uma razÃ£o de 12:1, a rotaÃ§Ã£o com que o eixo de manivelas gira Ã© de:", a: ["200 RPM", "2400 RPM", "4800 RPM", "28800 RPM"], c: 3},
    {q: "Uma das finalidades das engrenagens de reduÃ§Ã£o da caixa de acessÃ³rios do motor Ã©:", a: ["reduzir a velocidade do eixo de ressaltos", "limitar a velocidade de rotaÃ§Ã£o da hÃ©lice", "aumentar a velocidade de rotaÃ§Ã£o do motor", "aumentar a velocidade de rotaÃ§Ã£o do eixo de manivelas"], c: 1},
    {q: "Uma hÃ©lice com Ã¢ngulo negativo, estÃ¡ no passo:", a: ["mÃ­nimo", "mÃ¡ximo", "reverso", "bandeira"], c: 2},
    {q: "Uma hÃ©lice reversÃ­vel Ã© uma hÃ©lice:", a: ["em que o Ã¢ngulo da pÃ¡ pode ser mudado para um valor negativo, durante a operaÃ§Ã£o", "em que o Ã¢ngulo da pÃ¡ diminui o suficiente para evitar que o motor reduza sua rotaÃ§Ã£o", "que Ã© usada como freio aerodinÃ¢mico e que aumenta a corrida da aeronave apÃ³s o pouso", "que, na condiÃ§Ã£o de falha do motor, muda o passo para que reduza ao mÃ­nimo a resistÃªncia ao avanÃ§o"], c: 0}
];

    let currentQuestions = [];
    let timeLeft = 3840;
    let timerInterval;

    function initQuiz() {
        // Embaralha a ordem das questÃµes para cada tentativa ser diferente
        currentQuestions = [...masterBank].sort(() => 0.5 - Math.random());
        const container = document.getElementById('quiz-content');
        container.innerHTML = "";

        currentQuestions.forEach((item, idx) => {
            const card = document.createElement('div');
            card.className = 'question-block';
            card.id = `block-${idx}`;
            card.innerHTML = `
                <div class="question-text">${idx + 1}. ${item.q}</div>
                <div class="options-group">
                    ${item.a.map((opt, optIdx) => `
                        <label class="option-label" id="label-${idx}-${optIdx}">
                            <input type="radio" name="q${idx}" value="${optIdx}" onclick="markAsAnswered(${idx})">
                            ${String.fromCharCode(97 + optIdx)}) ${opt}
                        </label>
                    `).join('')}
                </div>
            `;
            container.appendChild(card);
        });
        startTimer();
    }

    function markAsAnswered(idx) {
        document.getElementById(`block-${idx}`).classList.remove('pending');
    }

    function startTimer() {
        timerInterval = setInterval(() => {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer').innerText = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            if (timeLeft <= 0) finalizeQuiz(true);
            timeLeft--;
        }, 1000);
    }

    function finalizeQuiz(isTimeUp = false) {
        let unanswered = [];
        if (!isTimeUp) {
            currentQuestions.forEach((_, idx) => {
                const radios = document.getElementsByName(`q${idx}`);
                let checked = false;
                radios.forEach(r => { if(r.checked) checked = true; });
                if (!checked) {
                    unanswered.push(idx);
                    document.getElementById(`block-${idx}`).classList.add('pending');
                }
            });
            if (unanswered.length > 0) {
                alert(`âš ï¸ Faltam ${unanswered.length} questÃµes. Elas foram sinalizadas em vermelho.`);
                document.getElementById(`block-${unanswered[0]}`).scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }
        }

        clearInterval(timerInterval);
        let correctCount = 0;
        currentQuestions.forEach((item, idx) => {
            const radios = document.getElementsByName(`q${idx}`);
            let selected = -1;
            radios.forEach(r => { if(r.checked) selected = parseInt(r.value); });

            document.getElementById(`label-${idx}-${item.c}`).classList.add('correct-answer');
            if (selected === item.c) {
                correctCount++;
            } else if (selected !== -1) {
                document.getElementById(`label-${idx}-${selected}`).classList.add('wrong-answer');
            }
            radios.forEach(r => r.disabled = true);
        });

        const percent = Math.round((correctCount / currentQuestions.length) * 100);
        const feedback = document.getElementById('feedback-msg');
        
        if (percent >= 70) {
            feedback.innerText = "ðŸŽ‰ Meus ParabÃ©ns! VocÃª foi aprovado!";
            feedback.style.color = "var(--success)";
        } else {
            feedback.innerText = "ðŸ’ª NÃ£o desista! Continue estudando para atingir os 70%.";
            feedback.style.color = "var(--danger)";
        }

        document.getElementById('results').style.display = 'block';
        document.getElementById('final-score').innerText = `Acertos: ${correctCount} de ${currentQuestions.length}`;
        document.getElementById('final-percent').innerText = `Aproveitamento: ${percent}%`;
        document.getElementById('finish-btn').style.display = 'none';
        document.getElementById('restart-btn').style.display = 'block';
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    window.onload = initQuiz;
</script>
</body>
</html>















